# 🔄 Процесс деплоя WeddingTravel

## 📊 Визуальная схема

```
┌─────────────────────────────────────────────────────────────┐
│                    ТЕКУЩЕЕ СОСТОЯНИЕ                         │
│                                                              │
│  ❌ Сайт НЕ задеплоен                                        │
│  ❌ Ошибка: 404 DEPLOYMENT_NOT_FOUND                        │
│  ✅ Код готов                                               │
│  ✅ Документация готова                                     │
└─────────────────────────────────────────────────────────────┘
                           │
                           ▼
┌─────────────────────────────────────────────────────────────┐
│                   ШАГ 1: GitHub Setup                        │
│                                                              │
│  git init                                                    │
│  git add .                                                   │
│  git commit -m "Initial commit"                              │
│  git remote add origin https://github.com/USER/repo.git     │
│  git push -u origin main                                     │
│                                                              │
│  ✅ Код на GitHub                                           │
└─────────────────────────────────────────────────────────────┘
                           │
                           ▼
┌─────────────────────────────────────────────────────────────┐
│                ШАГ 2: Vercel Import                          │
│                                                              │
│  1. Откройте vercel.com/new                                  │
│  2. Import Git Repository                                    │
│  3. Выберите weddingtravel                                   │
│  4. Configure Project                                        │
│                                                              │
│  Framework: Vite                                             │
│  Build Command: npm run build                                │
│  Output Directory: dist                                      │
└─────────────────────────────────────────────────────────────┘
                           │
                           ▼
┌─────────────────────────────────────────────────────────────┐
│          ШАГ 3: Environment Variables                        │
│                                                              │
│  VITE_SUPABASE_URL = https://xxx.supabase.co                │
│  VITE_SUPABASE_ANON_KEY = eyJhbGc...                        │
│                                                              │
│  Где взять: supabase.com/dashboard                           │
│            → Settings → API                                  │
└─────────────────────────────────────────────────────────────┘
                           │
                           ▼
┌─────────────────────────────────────────────────────────────┐
│                  ШАГ 4: Deploy                               │
│                                                              │
│  Нажмите "Deploy"                                            │
│  ⏱️ Подождите 2-3 минуты...                                  │
│                                                              │
│  ✅ Build успешен                                           │
│  ✅ Деплой завершён                                         │
└─────────────────────────────────────────────────────────────┘
                           │
                           ▼
┌─────────────────────────────────────────────────────────────┐
│                  РЕЗУЛЬТАТ                                   │
│                                                              │
│  🎉 Сайт доступен!                                          │
│  https://weddingtravel-xxx.vercel.app                        │
│                                                              │
│  ✅ HTTPS включён                                           │
│  ✅ Auto-deploy настроен                                    │
│  ✅ Preview deployments включены                            │
└─────────────────────────────────────────────────────────────┘
                           │
                           ▼
┌─────────────────────────────────────────────────────────────┐
│            ШАГ 5: Custom Domain (Опционально)                │
│                                                              │
│  Vercel → Settings → Domains                                 │
│  Add: weddingtravel.by                                       │
│  Add: www.weddingtravel.by                                   │
│                                                              │
│  Настройте DNS у регистратора:                               │
│  A record: @ → 76.76.21.21                                  │
│  CNAME: www → cname.vercel-dns.com                          │
│                                                              │
│  ⏱️ Подождите 15-30 минут для DNS                           │
└─────────────────────────────────────────────────────────────┘
                           │
                           ▼
┌─────────────────────────────────────────────────────────────┐
│                  ФИНАЛЬНЫЙ РЕЗУЛЬТАТ                         │
│                                                              │
│  🎉 Сайт на домене!                                         │
│  https://weddingtravel.by                                    │
│  https://www.weddingtravel.by                                │
│                                                              │
│  ✅ SSL сертификат                                          │
│  ✅ Auto-deploy при push                                    │
│  ✅ Preview для Pull Requests                               │
│  ✅ Мониторинг и аналитика                                  │
└─────────────────────────────────────────────────────────────┘
```

---

## 🔀 Альтернативный путь: Vercel CLI

```
┌─────────────────────────┐
│   npm install -g vercel │
└────────────┬────────────┘
             │
             ▼
┌─────────────────────────┐
│     vercel login        │
└────────────┬────────────┘
             │
             ▼
┌─────────────────────────┐
│        vercel           │
│  (следуйте подсказкам)  │
└────────────┬────────────┘
             │
             ▼
┌─────────────────────────┐
│   vercel env add ...    │
│  (добавьте переменные)  │
└────────────┬────────────┘
             │
             ▼
┌─────────────────────────┐
│     vercel --prod       │
└────────────┬────────────┘
             │
             ▼
       ✅ ГОТОВО!
```

---

## 🔄 Автоматический деплой workflow

После настройки GitHub + Vercel:

```
┌──────────────────┐
│  git commit      │
└────────┬─────────┘
         │
         ▼
┌──────────────────┐
│   git push       │
└────────┬─────────┘
         │
         ▼
┌──────────────────────────────────────────┐
│  GitHub Actions                          │
│  ├── Lint & Type Check                   │
│  ├── Build                                │
│  └── Run Tests                            │
└────────┬─────────────────────────────────┘
         │
         ▼
┌──────────────────────────────────────────┐
│  Vercel Auto Deploy                      │
│  ├── Install dependencies                │
│  ├── Build project                        │
│  ├── Deploy to preview (PR)              │
│  └── Deploy to production (main)         │
└────────┬─────────────────────────────────┘
         │
         ▼
┌──────────────────┐
│  ✅ Live Site!   │
└──────────────────┘
```

---

## 📋 Временная шкала

| Действие | Время |
|----------|-------|
| GitHub Setup | 2 минуты |
| Vercel Import | 2 минуты |
| Add Environment Variables | 1 минута |
| First Deploy | 2-3 минуты |
| **Итого (первый деплой)** | **7-8 минут** |
| DNS Setup | 15-30 минут (ожидание) |
| **С доменом** | **30-40 минут** |

---

## 🎯 Следующие шаги после деплоя

1. ✅ **Проверьте сайт** - откройте URL
2. ✅ **Протестируйте функции** - все ли работает?
3. ✅ **Настройте домен** (если нужно)
4. ✅ **Настройте мониторинг** - Vercel Analytics
5. ✅ **Добавьте в Google Search Console**
6. ✅ **Настройте Slack/Email уведомления**

---

## 🔧 Troubleshooting Flow

```
Деплой не работает?
      │
      ├─→ Build failed?
      │   └─→ Проверьте: npm run build локально
      │       └─→ Смотрите Build Logs в Vercel
      │
      ├─→ Runtime error?
      │   └─→ Проверьте Environment Variables
      │       └─→ Смотрите Function Logs
      │
      ├─→ 404 на маршрутах?
      │   └─→ Проверьте vercel.json
      │       └─→ rewrites настроены?
      │
      └─→ DNS не работает?
          └─→ Проверьте dnschecker.org
              └─→ Подождите 24-48 часов
```

---

## 📚 Дополнительные ресурсы

- **[DEPLOY_NOW.md](./DEPLOY_NOW.md)** - Подробная инструкция
- **[domain-setup.md](./domain-setup.md)** - Настройка домена
- **[vercel-setup.md](./vercel-setup.md)** - Vercel CLI гайд

---

**Создано:** 23 октября 2025  
**Обновлено:** 23 октября 2025
